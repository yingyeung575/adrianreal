(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{298:function(t,e,r){"use strict";r.r(e);r(28);var n=r(4),o={data:function(){return{backendurl:"https://whostsite.com/",frontendurl:"https://vigilant-perlman-c214ff.netlify.app/",noofpost:10}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,l,c,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,t.query,n=t.params,o=0,n.page&&(o=10*(n.page-1)),e.next=5,r.$get("https://whostsite.com/articles?categories.slug="+n.slug+"&_limit=10&_start="+o+"&_sort=date:DESC");case 5:return l=e.sent,e.next=8,r.$get("https://whostsite.com/categories");case 8:return c=e.sent,e.next=11,r.$get("https://whostsite.com/articles?categories.slug="+n.slug);case 11:return m=e.sent,v=m.length,e.abrupt("return",{articles:l,noarticles:v,categories:c});case 14:case"end":return e.stop()}}),e)})))()},methods:{gopage:function(t){return"/category/"+this.$route.params.slug+"/"+t}},computed:{backlink:function(){var t=parseInt(this.$route.params.page)-1;return"/category/"+this.$route.params.slug+"/"+t},nextlink:function(){var t=2;return this.$route.params.page&&(t=parseInt(this.$route.params.page)+1),"/category/"+this.$route.params.slug+"/"+t},maxpage:function(){return this.noarticles%this.noofpost==0?parseInt(this.noarticles/this.noofpost):parseInt(this.noarticles/this.noofpost+1)},currentPage:function(){return this.$route.params.page?this.$route.params.page:1},filteredarticles:function(){return this.articles}}},l=r(11),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("section",{staticClass:"padding-y-xl"},[r("div",{staticClass:"articles"},[r("div",{staticClass:"container max-width-adaptive-lg"},[r("div",{staticClass:"text-center margin-bottom-xl"},[t._l(t.categories,(function(e,n){return r("h1",{directives:[{name:"show",rawName:"v-show",value:e.slug==t.$route.params.slug,expression:"category.slug == $route.params.slug"}],key:n},[t._v(t._s(e.name))])})),t._v(" "),r("div",{staticClass:"margin-top-lg"},t._l(t.categories,(function(e,n){return r("a",{key:n,staticClass:"story__category margin-x-sm",attrs:{href:"/category/"+e.slug}},[r("i",[t._v(t._s(e.name))])])})),0)],2),t._v(" "),r("div",{staticClass:"grid grid-gap-lg"},[t._l(t.filteredarticles,(function(article,e){return r("article",{directives:[{name:"show",rawName:"v-show",value:0==e,expression:"idx==0"}],key:e,staticClass:"story story--featured"},[r("a",{staticClass:"story__img",attrs:{href:t.frontendurl+"article/"+article.slug}},[r("figure",{staticClass:"media-wrapper media-wrapper--5:3"},[r("img",{directives:[{name:"show",rawName:"v-show",value:article.thumbnail,expression:"article.thumbnail"}],attrs:{src:t.backendurl+article.thumbnail.url}})])]),t._v(" "),r("div",{staticClass:"story__content"},[r("div",{staticClass:"margin-bottom-xs"},t._l(article.categories,(function(e,n){return r("a",{key:n,staticClass:"story__category",attrs:{href:t.frontendurl+"category/"+e.slug}},[r("i",[t._v(t._s(e.name))])])})),0),t._v(" "),r("div",{staticClass:"text-component"},[r("h2",{staticClass:"story__title"},[r("a",{attrs:{href:t.frontendurl+"article/"+article.slug}},[t._v(t._s(article.title))])]),t._v(" "),r("p",[t._v(t._s(article.excerpt))])]),t._v(" "),r("div",{staticClass:"story__author margin-top-sm"},[r("span",{staticClass:"block"},[r("img",{directives:[{name:"show",rawName:"v-show",value:article.author,expression:"article.author"}],attrs:{src:t.backendurl+article.author.profile.url}})]),t._v(" "),r("div",[r("address",{directives:[{name:"show",rawName:"v-show",value:article.author,expression:"article.author"}],staticClass:"story__author-name"},[r("span",{attrs:{rel:"author"}},[t._v(t._s(article.author.name))])]),t._v(" "),r("p",{staticClass:"story__meta"},[r("time",[t._v(t._s(article.date))])])])])])])})),t._v(" "),t._l(t.filteredarticles,(function(article,e){return r("article",{directives:[{name:"show",rawName:"v-show",value:0!=e,expression:"idx!=0"}],key:e,staticClass:"story col-4@md"},[r("a",{staticClass:"story__img",attrs:{href:t.frontendurl+"article/"+article.slug}},[r("figure",{staticClass:"media-wrapper media-wrapper--5:3"},[r("img",{directives:[{name:"show",rawName:"v-show",value:article.thumbnail,expression:"article.thumbnail"}],attrs:{src:t.backendurl+article.thumbnail.url}})])]),t._v(" "),r("div",{staticClass:"story__content"},[r("div",{staticClass:"margin-bottom-xs"},t._l(article.categories,(function(e,n){return r("a",{key:n,staticClass:"story__category",attrs:{href:t.frontendurl+"category/"+e.slug}},[r("i",[t._v(t._s(e.name))])])})),0),t._v(" "),r("div",{staticClass:"text-component"},[r("h2",{staticClass:"story__title"},[r("a",{attrs:{href:t.frontendurl+"article/"+article.slug}},[t._v(t._s(article.title))])])]),t._v(" "),r("div",{staticClass:"story__author margin-top-sm"},[r("span",{staticClass:"block"},[r("img",{directives:[{name:"show",rawName:"v-show",value:article.author,expression:"article.author"}],attrs:{src:t.backendurl+article.author.profile.url}})]),t._v(" "),r("div",[r("address",{directives:[{name:"show",rawName:"v-show",value:article.author,expression:"article.author"}],staticClass:"story__author-name"},[r("span",{attrs:{rel:"author"}},[t._v(t._s(article.author.name))])]),t._v(" "),r("p",{staticClass:"story__meta"},[r("time",[t._v(t._s(article.date))])])])])])])}))],2),t._v(" "),r("nav",{directives:[{name:"show",rawName:"v-show",value:1!=t.maxpage&&0!=t.maxpage,expression:"maxpage!=1 && maxpage!=0"}],staticClass:"pagination margin-top-xxl",attrs:{"aria-label":"Pagination"}},[r("ol",{staticClass:"pagination__list flex flex-wrap flex-gap-xxs justify-center"},[r("li",[r("a",{directives:[{name:"show",rawName:"v-show",value:1!=t.currentPage,expression:"currentPage!=1"}],staticClass:"pagination__item",attrs:{href:t.backlink,"aria-label":"Go to previous page"}},[r("svg",{staticClass:"icon margin-right-xxxs",attrs:{"aria-hidden":"true",viewBox:"0 0 16 16"}},[r("title",[t._v("Previous")]),r("g",{attrs:{"stroke-width":"1",stroke:"currentColor"}},[r("polyline",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"9.5,3.5 5,8 9.5,12.5 "}})])]),t._v(" "),r("span",[t._v("上一頁")])])]),t._v(" "),t._l(t.maxpage,(function(e){return r("span",{key:e,staticClass:"display@sm"},[r("li",{directives:[{name:"show",rawName:"v-show",value:e-t.currentPage>=1&&e-t.currentPage<3,expression:"id - currentPage>= 1 && id - currentPage < 3"}]},[r("a",{staticClass:"pagination__item",attrs:{href:t.gopage(e)}},[t._v(t._s(e))])]),t._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:e==t.currentPage,expression:"id == currentPage"}]},[r("a",{staticClass:"pagination__item pagination__item--selected",attrs:{href:t.gopage(e)}},[t._v(t._s(e))])])])})),t._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:t.maxpage-t.currentPage>2,expression:"maxpage - currentPage > 2"}],staticClass:"display@sm",attrs:{"aria-hidden":"true"}},[r("span",{staticClass:"pagination__item pagination__item--ellipsis"},[t._v("...")])]),t._v(" "),r("li",[r("a",{directives:[{name:"show",rawName:"v-show",value:t.currentPage!=t.maxpage,expression:"currentPage!=maxpage"}],staticClass:"pagination__item",attrs:{href:t.nextlink,"aria-label":"Go to next page"}},[r("span",[t._v("下一頁")]),t._v(" "),r("svg",{staticClass:"icon margin-left-xxxs",attrs:{"aria-hidden":"true",viewBox:"0 0 16 16"}},[r("title",[t._v("Next")]),r("g",{attrs:{"stroke-width":"1",stroke:"currentColor"}},[r("polyline",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"6.5,3.5 11,8 6.5,12.5 "}})])])])])],2)])])])])])}),[],!1,null,null,null);e.default=component.exports}}]);